{% extends 'base.html' %}
{% block title %}Descubrir{% endblock %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'magzin/assets/css/vendors/bootstrap-grid.min.css' %}">
  <link rel="stylesheet" href="{% static 'magzin/assets/css/vendors/swiper-bundle.min.css' %}">
  <link rel="stylesheet" href="{% static 'magzin/assets/css/vendors/magnific-popup.css' %}">
  <link rel="stylesheet" href="{% static 'magzin/assets/css/vendors/aos.css' %}">
  <link rel="stylesheet" href="{% static 'magzin/assets/css/vendors/odometer.css' %}">
  <link rel="stylesheet" href="{% static 'magzin/assets/css/main.css' %}">
<style>
  .avatar{ width:56px; height:56px; border-radius:999px; object-fit:cover; background:#f4f4f5; }
  .initial-avatar{
    width:56px; height:56px; border-radius:999px;
    display:flex; align-items:center; justify-content:center;
    background:#e5e7eb; color:#374151; font-weight:800;
  }
</style>

<style>
  :root{ --cover-w:140px; } /* cambia el tamaÃ±o de portada si quieres */

  /* --- Layouts reutilizables --- */
  .section{ margin: 1.25rem 0 2rem 0; }
  .section h2{ margin:0 0 .3rem 0; }
  .muted{ color:#6b7280; }

  .book-grid{
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(360px, 1fr));
    gap:1rem;
  }

  .scroll-row{
    display:flex; gap:1rem; overflow:auto; padding: .25rem 0 .5rem;
    scroll-snap-type: x mandatory;
  }
  .scroll-row > *{ scroll-snap-align:start; flex:0 0 360px; }

  /* --- Tarjeta de libro 2:3 (igual que en el parcial) --- */
  .book-card{
    display:flex; gap:1rem; align-items:flex-start;
    background:#fff; border:1px solid #e5e7eb; border-radius:16px;
    padding:.9rem; box-shadow:0 8px 18px rgba(0,0,0,.06);
    transition:transform .12s ease, box-shadow .12s ease;
    text-decoration:none; color:inherit;
  }
  .book-card:hover{ transform:translateY(-2px); box-shadow:0 10px 22px rgba(0,0,0,.08); }

  .cover-2x3{
    width:var(--cover-w);
    aspect-ratio:2/3;
    background:#f5f5f5;
    border-radius:12px; overflow:hidden;
    box-shadow:0 6px 14px rgba(0,0,0,.12);
    flex-shrink:0; position:relative;
  }
  .cover-2x3 img{ width:100%; height:100%; object-fit:cover; display:block; }
  .cover-2x3 .ph{
    position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
    font-weight:700; color:#9ca3af;
  }
  .book-body{ flex:1; display:flex; flex-direction:column; gap:.35rem; min-width:0; }
  .book-title{ margin:0; font-weight:800; line-height:1.15; }
  .book-author{ color:#6b7280; font-size:.9rem; text-transform:uppercase; letter-spacing:.04em; font-weight:600; }
  .book-desc{ color:#4b5563; font-size:.92rem; margin-top:.15rem; }
  .book-meta{ display:flex; gap:.55rem; flex-wrap:wrap; align-items:center; margin-top:.3rem; color:#374151; font-size:.9rem; }

  .badge{ display:inline-flex; align-items:center; gap:.35rem; padding:.15rem .55rem; border-radius:999px; border:1px solid #e5e7eb; background:#f9fafb; font-size:.78rem; }
  .badge-serial{ background:#e0f2fe; color:#075985; border-color:#bae6fd; }
  .badge-closed{ background:#dcfce7; color:#065f46; border-color:#bbf7d0; }
  .badge-draft{ background:#fee2e2; color:#991b1b; border-color:#fecaca; }
  .badge-free{ background:#dcfce7; color:#065f46; border-color:#bbf7d0; }
  .badge-paid{ background:#fef3c7; color:#92400e; border-color:#fde68a; }
  .price{ font-weight:700; }

  /* Chips / listas auxiliares */
  .chips{ display:flex; gap:.5rem; flex-wrap:wrap; }
  .chip{ padding:.35rem .6rem; border:1px solid #e5e7eb; border-radius:999px; background:#fff; font-size:.85rem; }
  .author-card{
    border:1px solid #e5e7eb; border-radius:16px; padding:1rem; background:#fff;
  }
  .poll-card{
    border:1px solid #e5e7eb; border-radius:12px; padding:1rem; background:#fff;
  }
  .review{
    border:1px solid #e5e7eb; border-radius:12px; padding:1rem; background:#fff;
  }
</style>
<section class="sec-1-home-1" data-background="{% static 'magzin/assets/imgs/page/bg-home1-sec1.png' %}">
            <div class="container">
                <div class="row mb-3 mb-lg-5">
                    <div class="col-12">
                        <div class="text-center">
                            <h1 class="ds-2 lh-0 mb-0 text-anime-style-2">La Libriooteca</h1>
                            <p class="fs-5 mt-0 text-anime-style-1">Un espacio donde escribir y leer son experiencias compartidas</p>
                        </div>
                    </div>
                </div>
            </div>

        <div class="container-fluid">
                            
                <div class="book-grid">
                     
                  {% for b in trending %}
                    {% include "library/partials/book_card.html" with b=b %}
                  {% endfor %}
                </div>
 
            </div>
            </section>

{% endblock %}
